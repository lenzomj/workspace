---
# devbox :: tasks

  - include: fetch.yml

  - import_tasks: "{{ box_task_library }}/install-pypackages.yml"
    vars:
      a_requirements_file: "{{ role_path }}/files/pypi_packages.txt"
      a_virtualenv_path: "{{ box_workspace_path }}/devbox"

  - import_tasks: "{{ box_task_library }}/clone-repositories.yml"
    vars:
      repositories: "{{ devbox.repositories }}"

  - name: >
      Configuring vim to always update plugins from {{ box_workspace_cache }}
    lineinfile:
      path: "{{ ansible_env.HOME }}/.bashrc_local"
      state: present
      create: yes
      line: 'export VIM_PLUG_CACHE="{{ box_cache_path }}"'
